.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man v6.0.2 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Required to disable full justification in groff 1.23.0.
.if n .ds AD l
.\" ========================================================================
.\"
.IX Title "RHUMBSOLVE 1"
.TH RHUMBSOLVE 1 2025-09-30 "GeographicLib 2.6" "GeographicLib Utilities"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
RhumbSolve \-\- perform rhumb line calculations
.SH SYNOPSIS
.IX Header "SYNOPSIS"
\&\fBRhumbSolve\fR [ \fB\-i\fR | \fB\-L\fR \fIlat1\fR \fIlon1\fR \fIazi12\fR ]
[ \fB\-e\fR \fIa\fR \fIf\fR ] [ \fB\-u\fR ]
[ \fB\-d\fR | \fB\-:\fR ] [ \fB\-w\fR ] [ \fB\-p\fR \fIprec\fR ] [ \fB\-E\fR ]
[ \fB\-\-comment\-delimiter\fR \fIcommentdelim\fR ]
[ \fB\-\-version\fR | \fB\-h\fR | \fB\-\-help\fR ]
[ \fB\-\-input\-file\fR \fIinfile\fR | \fB\-\-input\-string\fR \fIinstring\fR ]
[ \fB\-\-line\-separator\fR \fIlinesep\fR ]
[ \fB\-\-output\-file\fR \fIoutfile\fR ]
.SH DESCRIPTION
.IX Header "DESCRIPTION"
The path with constant heading between two points on the ellipsoid at
(\fIlat1\fR, \fIlon1\fR) and (\fIlat2\fR, \fIlon2\fR) is called the rhumb line or
loxodrome.  Its length is \fIs12\fR and the rhumb line has a forward
azimuth \fIazi12\fR along its length.  The quantity \fIS12\fR is the area
between the rhumb line from point 1 to point 2 and the equator; i.e.,
it is the area, measured counter\-clockwise, of the geodesic
quadrilateral with corners (\fIlat1\fR,\fIlon1\fR), (0,\fIlon1\fR),
(0,\fIlon2\fR), and (\fIlat2\fR,\fIlon2\fR).  The longitude becomes
indeterminate when a rhumb line passes through a pole, and
\&\fBRhumbSolve\fR reports NaNs for the longitude and the area in this
case.
.PP
\&\fBNOTE:\fR the rhumb line is \fBnot\fR the shortest path between two points;
that is the geodesic and it is calculated by \fBGeodSolve\fR\|(1).
.PP
\&\fBRhumbSolve\fR operates in one of three modes:
.IP 1. 4
By default, \fBRhumbSolve\fR accepts lines on the standard input containing
\&\fIlat1\fR \fIlon1\fR \fIazi12\fR \fIs12\fR and prints \fIlat2\fR \fIlon2\fR \fIS12\fR on
standard output.  This is the direct calculation.
.IP 2. 4
With the \fB\-i\fR option, \fBRhumbSolve\fR performs the inverse calculation.
It reads lines containing \fIlat1\fR \fIlon1\fR \fIlat2\fR \fIlon2\fR and prints
the values of \fIazi12\fR \fIs12\fR \fIS12\fR for the corresponding shortest
rhumb lines.
.IP 3. 4
Command line arguments \fB\-L\fR \fIlat1\fR \fIlon1\fR \fIazi12\fR specify a rhumb
line.  \fBRhumbSolve\fR then accepts a sequence of \fIs12\fR values (one per
line) on standard input and prints \fIlat2\fR \fIlon2\fR \fIS12\fR for each.
This generates a sequence of points on a rhumb line.
.SH OPTIONS
.IX Header "OPTIONS"
.IP \fB\-i\fR 4
.IX Item "-i"
perform an inverse calculation (see 2 above).
.IP "\fB\-L\fR \fIlat1\fR \fIlon1\fR \fIazi12\fR" 4
.IX Item "-L lat1 lon1 azi12"
line mode (see 3 above); generate a sequence of points along the rhumb
line specified by \fIlat1\fR \fIlon1\fR \fIazi12\fR.  The \fB\-w\fR flag can be used
to swap the default order of the 2 geographic coordinates, provided that
it appears before \fB\-L\fR.
.IP "\fB\-e\fR \fIa\fR \fIf\fR" 4
.IX Item "-e a f"
specify the ellipsoid via the equatorial radius, \fIa\fR and
the flattening, \fIf\fR.  Setting \fIf\fR = 0 results in a sphere.  Specify
\&\fIf\fR < 0 for a prolate ellipsoid.  A simple fraction, e.g., 1/297,
is allowed for \fIf\fR.  By default, the WGS84 ellipsoid is used, \fIa\fR =
6378137 m, \fIf\fR = 1/298.257223563.
.IP \fB\-u\fR 4
.IX Item "-u"
unroll the longitude.  Normally, on output longitudes are reduced to lie
in [\-180deg,180deg).  However with this option, the returned longitude
\&\fIlon2\fR is "unrolled" so that \fIlon2\fR \- \fIlon1\fR indicates how often and
in what sense the geodesic has encircled the earth.
.IP \fB\-d\fR 4
.IX Item "-d"
output angles as degrees, minutes, seconds instead of decimal degrees.
.IP \fB\-:\fR 4
.IX Item "-:"
like \fB\-d\fR, except use : as a separator instead of the d, \*(Aq, and "
delimiters.
.IP \fB\-w\fR 4
.IX Item "-w"
on input and output, longitude precedes latitude (except that on input
this can be overridden by a hemisphere designator, \fIN\fR, \fIS\fR, \fIE\fR,
\&\fIW\fR).
.IP "\fB\-p\fR \fIprec\fR" 4
.IX Item "-p prec"
set the output precision to \fIprec\fR (default 3); \fIprec\fR is the
precision relative to 1 m.  See "PRECISION".
.IP \fB\-E\fR 4
.IX Item "-E"
By default, the rhumb line calculations are carried out using series
expansions valid for |\fIf\fR| < 0.01.  If \fB\-E\fR is supplied, exact
equations for the rhumb line are used and the area integral is
computed with an accurate fit based on this exact equations; these are
valid for arbitrary eccentricities.
.IP "\fB\-\-comment\-delimiter\fR \fIcommentdelim\fR" 4
.IX Item "--comment-delimiter commentdelim"
set the comment delimiter to \fIcommentdelim\fR (e.g., "#" or "//").  If
set, the input lines will be scanned for this delimiter and, if found,
the delimiter and the rest of the line will be removed prior to
processing and subsequently appended to the output line (separated by a
space).
.IP \fB\-\-version\fR 4
.IX Item "--version"
print version and exit.
.IP \fB\-h\fR 4
.IX Item "-h"
print usage and exit.
.IP \fB\-\-help\fR 4
.IX Item "--help"
print full documentation and exit.
.IP "\fB\-\-input\-file\fR \fIinfile\fR" 4
.IX Item "--input-file infile"
read input from the file \fIinfile\fR instead of from standard input; a file
name of "\-" stands for standard input.
.IP "\fB\-\-input\-string\fR \fIinstring\fR" 4
.IX Item "--input-string instring"
read input from the string \fIinstring\fR instead of from standard input.
All occurrences of the line separator character (default is a semicolon)
in \fIinstring\fR are converted to newlines before the reading begins.
.IP "\fB\-\-line\-separator\fR \fIlinesep\fR" 4
.IX Item "--line-separator linesep"
set the line separator character to \fIlinesep\fR.  By default this is a
semicolon.
.IP "\fB\-\-output\-file\fR \fIoutfile\fR" 4
.IX Item "--output-file outfile"
write output to the file \fIoutfile\fR instead of to standard output; a
file name of "\-" stands for standard output.
.SH INPUT
.IX Header "INPUT"
\&\fBRhumbSolve\fR measures all angles in degrees, all lengths (\fIs12\fR) in
meters, and all areas (\fIS12\fR) in meters^2.  On input angles (latitude,
longitude, azimuth, arc length) can be as decimal degrees or degrees,
minutes, seconds.  For example, \f(CW\*(C`40d30\*(C'\fR, \f(CW\*(C`40d30\*(Aq\*(C'\fR, \f(CW\*(C`40:30\*(C'\fR, \f(CW\*(C`40.5d\*(C'\fR,
and \f(CW40.5\fR are all equivalent.  By default, latitude precedes longitude
for each point (the \fB\-w\fR flag switches this convention); however on
input either may be given first by appending (or prepending) \fIN\fR or
\&\fIS\fR to the latitude and \fIE\fR or \fIW\fR to the longitude.  Azimuths are
measured clockwise from north; however this may be overridden with \fIE\fR
or \fIW\fR.
.PP
For details on the allowed formats for angles, see the \f(CW\*(C`GEOGRAPHIC
COORDINATES\*(C'\fR section of \fBGeoConvert\fR\|(1).
.SH PRECISION
.IX Header "PRECISION"
\&\fIprec\fR gives precision of the output with \fIprec\fR = 0 giving 1 m
precision, \fIprec\fR = 3 giving 1 mm precision, etc.  \fIprec\fR is the
number of digits after the decimal point for lengths.  For decimal
degrees, the number of digits after the decimal point is \fIprec\fR + 5.
For DMS (degree, minute, seconds) output, the number of digits after the
decimal point in the seconds component is \fIprec\fR + 1.  The minimum
value of \fIprec\fR is 0 and the maximum is 10.
.SH ERRORS
.IX Header "ERRORS"
An illegal line of input will print an error message to standard output
beginning with \f(CW\*(C`ERROR:\*(C'\fR and causes \fBRhumbSolve\fR to return an exit code
of 1.  However, an error does not cause \fBRhumbSolve\fR to terminate;
following lines will be converted.
.SH ACCURACY
.IX Header "ACCURACY"
The algorithm used by \fBRhumbSolve\fR uses either series expansions or
(if \fB\-E\fR is specified) exact formulas for computing the rhumb line
and the area.  These series are formulas are accurate for |\fIf\fR| <
0.01 and the exact formulas apply for any value of the flattening.
The computation of rhumb lines and the area involves the ratio of
differences and, for nearly east\- or west\-going rhumb lines, this
might result in a large loss of accuracy.  However, this problem is
avoided by the use of divided differences. For the WGS84 ellipsoid,
the error is about 10 nanometers using either method.
.SH EXAMPLES
.IX Header "EXAMPLES"
Route from JFK Airport to Singapore Changi Airport:
.PP
.Vb 2
\&   echo 40:38:23N 073:46:44W 01:21:33N 103:59:22E |
\&   RhumbSolve \-i \-: \-p 0
\&
\&   103:34:58.2 18523563 45921660958919
.Ve
.PP
N.B. This is \fBnot\fR the route typically taken by aircraft because it\*(Aqs
considerably longer than the geodesic given by \fBGeodSolve\fR\|(1).
.PP
Waypoints on the route at intervals of 2000km:
.PP
.Vb 2
\&   for ((i = 0; i <= 20; i += 2)); do echo ${i}000000;done |
\&   RhumbSolve \-L 40:38:23N 073:46:44W 103:34:58.2 \-: \-p 0
\&
\&   40:38:23.0N 073:46:44.0W 0
\&   36:24:30.3N 051:28:26.4W 9817078307821
\&   32:10:26.8N 030:20:57.3W 18224745682005
\&   27:56:13.2N 010:10:54.2W 25358020327741
\&   23:41:50.1N 009:12:45.5E 31321269267102
\&   19:27:18.7N 027:59:22.1E 36195163180159
\&   15:12:40.2N 046:17:01.1E 40041499143669
\&   10:57:55.9N 064:12:52.8E 42906570007050
\&   06:43:07.3N 081:53:28.8E 44823504180200
\&   02:28:16.2N 099:24:54.5E 45813843358737
\&   01:46:36.0S 116:52:59.7E 45888525219677
.Ve
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBGeoConvert\fR\|(1), \fBGeodSolve\fR\|(1).
.PP
An online version of this utility is availbable at
<https://geographiclib.sourceforge.io/cgi\-bin/RhumbSolve>.
.PP
An online version of this utility is availbable at
<https://geographiclib.sourceforge.io/cgi\-bin/RhumbSolve>.
.PP
This solution for rhumb line is described in C. F. F. Karney,
\&\fIThe area of rhumb polygons\fR,
Stud. Geophys. Geod. 68(3\-\-4), 99\-\-120 (2024);
DOI <https://doi.org/10.1007/s11200\-024\-0709\-z>.
.PP
The Wikipedia page, Rhumb line,
<https://en.wikipedia.org/wiki/Rhumb_line>.
.SH AUTHOR
.IX Header "AUTHOR"
\&\fBRhumbSolve\fR was written by Charles Karney.
.SH HISTORY
.IX Header "HISTORY"
\&\fBRhumbSolve\fR was added to GeographicLib,
<https://geographiclib.sourceforge.io>, in version 1.37 and
substantially rewritten in version 2.2.
